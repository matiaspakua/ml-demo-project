name: run-docker-image

on:
  workflow_run:
    workflows: ["cd-build-publish-docker-image"]
    types: 
      - completed
  
jobs:
    
  run:
  
    runs-on: self-hosted

    steps:
      - name: Pull Docker image
        run: 'sudo docker pull matiasmiguez/ml-demo-project:latest'
      - name: Run Docker Container
        run: 'sudo docker run -d -p 8080:8080 --name ml-demo-project-container matiasmiguez/ml-demo-project'
